{% extends 'shopMitra/basic.html' %} 
{% block title %}Contact Us - shopMitra{% endblock %} 

{% block content %}
<div class="container d-flex justify-content-center align-items-center mt-5 mb-5">
  <div class="card shadow-sm p-4" style="max-width: 600px; width: 100%;">
    <h3 class="text-center mb-4">Contact Us Regarding Any Queries</h3>

    {% if thank %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        Thank you for contacting us. We will get back to you soon!
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endif %}

    <form action="{% url 'ContactUs' %}" method="post" class="needs-validation" novalidate>
      {% csrf_token %}
      
      <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input type="text" class="form-control" id="name" name="name" placeholder="Enter Your Name" required>
        <div class="invalid-feedback">Please enter your name.</div>
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email address</label>
        <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
        <div class="invalid-feedback">Please enter a valid email.</div>
      </div>

      <div class="mb-3">
        <label for="phone" class="form-label">Phone Number</label>
        <input type="tel" class="form-control" id="phone" name="phone" placeholder="Enter your phone number" required>
        <div class="invalid-feedback">Please enter your phone number.</div>
      </div>

      <div class="mb-3">
        <label for="desc" class="form-label">Message</label>
        <textarea class="form-control" id="desc" name="desc" rows="5" placeholder="Your message" required></textarea>
        <div class="invalid-feedback">Please enter your message.</div>
      </div>

      <button type="submit" class="btn btn-primary w-100">Submit</button>
    </form>
  </div>
</div>
{% endblock %}

{% block js %}
{{ block.super }}
<script>
  // Bootstrap 5 client-side validation
  (() => {
    'use strict';
    const forms = document.querySelectorAll('.needs-validation');
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>
{% endblock %}
